<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Letters for You 💌</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <style>
    /* --- Basic layout & fonts --- */
    body {
      font-family: 'Poppins', sans-serif;
      /* New, elegant font for UI */
      margin: 0;
      background-color: #e8e4d9;
      /* A warm, beige background */
      color: #333;
      overflow-y: scroll;
      -webkit-font-smoothing: antialiased;
      transition: background-color 0.5s ease;
    }

    /* New unlocked body styles */
    .unlocked-body {
      /* Subtle gradient for the unlocked state, matching the new palette */
      background: linear-gradient(-45deg, #f5f0e1, #d6c6a4, #f5f0e1);
      background-size: 400% 400%;
      animation: subtleGradient 15s ease infinite;
    }

    @keyframes subtleGradient {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    header {
      text-align: center;
      padding: 1.5rem;
      font-size: 2.2rem;
      font-weight: 800;
      background: linear-gradient(90deg, #6c5a4a, #4a3e35);
      /* Warm brown gradient */
      color: white;
      letter-spacing: 1px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      font-family: 'Poppins', sans-serif;
      /* Consistent font for header */
    }

    nav {
      display: flex;
      justify-content: center;
      background: #d4c9b9;
      /* A light brown for nav */
      padding: 0.8rem;
      gap: 0.8rem;
      flex-wrap: wrap;
    }

    nav button {
      padding: 0.65rem 1.2rem;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 700;
      background-color: #4a3e35;
      /* Dark brown button color */
      color: white;
      transition: all 0.2s ease-in-out;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      font-family: 'Poppins', sans-serif;
      /* Consistent font for buttons */
    }

    nav button:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
    }

    nav button:active {
      transform: translateY(-1px);
    }

    /* --- Grid and envelope --- */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1.5rem;
      padding: 1.5rem;
      max-width: 1200px;
      margin: 1rem auto;
    }

    .envelope {
      position: relative;
      width: 160px;
      height: 120px;
      background: linear-gradient(180deg, #f5f0e1, #e8e4d9);
      /* Paper-like gradient */
      border-radius: 16px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      /* Changed to column to stack elements */
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0.8rem;
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55), box-shadow 0.3s ease;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
    }

    .envelope .title-text {
      font-family: 'Dancing Script', cursive;
      /* Script font for the title */
      font-weight: 700;
      font-size: 1.5rem;
      line-height: 1.2;
    }

    .envelope .date-text {
      font-family: 'Poppins', sans-serif;
      /* Clean font for the date */
      font-size: 0.8rem;
      color: #777;
      margin-top: 5px;
    }

    .envelope:hover {
      transform: translateY(-8px) rotate(-2deg) scale(1.05);
      box-shadow: 0 18px 36px rgba(0, 0, 0, 0.18);
    }

    /* little flip animation when opening */
    .envelope.flip {
      animation: flipOpen 0.5s forwards;
    }

    @keyframes flipOpen {
      0% {
        transform: rotateX(0deg);
      }

      100% {
        transform: rotateX(20deg) translateY(-8px) scale(1.05);
      }
    }

    /* --- Letter (story page) --- */
    .letter {
      display: block;
      padding: 2.5rem 2.8rem;
      background: #f7efe1;
      border-radius: 16px;
      max-width: 800px;
      margin: 2rem auto;
      box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.2);
      animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/e0/Texture_old_paper.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      position: relative;
      color: #222;
    }

    /* Updated font for the letter title */
    .letter h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 2.5rem;
      margin-top: 0;
      margin-bottom: 0.5rem;
      /* Adjusted for date */
    }

    /* New rule for the body of the letter */
    .letter p {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      line-height: 1.8rem;
    }

    .letter .date-text {
      font-family: 'Poppins', sans-serif;
      font-size: 0.9rem;
      color: #777;
      margin-bottom: 1.5rem;
      display: block;
      /* Ensures it's on a new line */
    }

    .delete-btn,
    .back-btn {
      position: absolute;
      top: 15px;
      padding: 0.4rem 0.8rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 700;
      transition: transform 0.2s, box-shadow 0.2s;
      font-family: 'Poppins', sans-serif;
      /* Consistent font for buttons */
    }

    .delete-btn {
      right: 15px;
      background: rgba(168, 70, 70, 0.95);
      /* A muted red */
      color: #fff;
    }

    .back-btn {
      left: 15px;
      background: rgba(74, 62, 53, 0.95);
      /* Dark brown */
      color: #fff;
    }

    .delete-btn:hover,
    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(25px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* --- Small form styles --- */
    .form-box {
      display: none;
      max-width: 700px;
      margin: 1.5rem auto;
      background: rgba(245, 240, 225, 0.9);
      /* Lighter, semi-transparent beige */
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
    }

    .form-box input,
    .form-box textarea {
      width: 100%;
      margin: 0.6rem 0;
      padding: 0.8rem;
      border-radius: 10px;
      border: 1px solid #d4c9b9;
      /* Matches nav background */
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
      /* Consistent font for inputs */
    }

    .controls-row {
      display: flex;
      gap: 0.8rem;
      justify-content: center;
      padding: 1rem;
    }

    .controls-row button,
    .form-box button {
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
      border: none;
      background: #4a3e35;
      /* Dark brown button color */
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      font-family: 'Poppins', sans-serif;
      /* Consistent font for buttons */
    }

    .controls-row button:hover,
    .form-box button:hover {
      transform: scale(1.05);
    }

    /* --- Lock screen animation (cute hearts) --- */
    #password-screen {
      position: relative;
    }

    .heart {
      position: absolute;
      bottom: -10px;
      opacity: 0.85;
      animation: rise 6s linear infinite;
      transform: scale(0.9);
    }

    .heart:nth-child(1) {
      left: 10%;
      animation-delay: 0s;
    }

    .heart:nth-child(2) {
      left: 30%;
      animation-delay: 1s;
    }

    .heart:nth-child(3) {
      left: 50%;
      animation-delay: 2s;
    }

    .heart:nth-child(4) {
      left: 70%;
      animation-delay: 3s;
    }

    .heart:nth-child(5) {
      left: 90%;
      animation-delay: 4s;
    }

    @keyframes rise {
      0% {
        transform: translateY(0) scale(0.85);
        opacity: 0.6
      }

      50% {
        opacity: 1
      }

      100% {
        transform: translateY(-120vh) scale(1.1);
        opacity: 0
      }
    }

    /* Custom delete confirmation modal styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .modal-overlay.visible {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background-color: #fff;
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }

    .modal-overlay.visible .modal-content {
      transform: scale(1);
    }

    .modal-buttons {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .modal-buttons button {
      padding: 0.6rem 1.5rem;
      border-radius: 20px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s;
    }

    .modal-buttons .confirm-btn {
      background-color: #e53e3e;
      color: white;
    }

    .modal-buttons .confirm-btn:hover {
      background-color: #c53030;
      transform: translateY(-2px);
    }

    .modal-buttons .cancel-btn {
      background-color: #e2e8f0;
      color: #4a5568;
    }

    .modal-buttons .cancel-btn:hover {
      background-color: #cbd5e0;
      transform: translateY(-2px);
    }

    /* responsive tweaks */
    @media (max-width:600px) {
      .grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        padding: 0.8rem;
      }

      .envelope {
        width: 120px;
        height: 95px;
        font-size: 0.9rem;
      }

      .letter {
        padding: 1.5rem;
        font-size: 1rem;
        line-height: 1.6rem;
      }
    }
  </style>
</head>

<body>
  <!-- cute hearts -->
  <svg class="heart" width="40" height="40" viewBox="0 0 24 24" fill="#6c5a4a" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M12 21s-7-4.35-9-6.67C-0.03 8.45 6.2 3 9.5 6.5 11 8 12 9 12 9s1-1 2.5-2.5C17.8 3 24 8.45 21 14.33 19 16.65 12 21 12 21z" />
  </svg>
  <svg class="heart" width="28" height="28" viewBox="0 0 24 24" fill="#a4937a" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M12 21s-7-4.35-9-6.67C-0.03 8.45 6.2 3 9.5 6.5 11 8 12 9 12 9s1-1 2.5-2.5C17.8 3 24 8.45 21 14.33 19 16.65 12 21 12 21z" />
  </svg>
  <svg class="heart" width="36" height="36" viewBox="0 0 24 24" fill="#8c7865" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M12 21s-7-4.35-9-6.67C-0.03 8.45 6.2 3 9.5 6.5 11 8 12 9 12 9s1-1 2.5-2.5C17.8 3 24 8.45 21 14.33 19 16.65 12 21 12 21z" />
  </svg>

  <!-- LOCK SCREEN -->
  <div id="password-screen"
    style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;">
    <div style="text-align:center;max-width:380px;margin:0 1rem;">
      <h2 style="margin:0 0 0.8rem 0; font-family: 'Poppins', sans-serif;">The key to my thoughts belongs to only one
        person…</h2>
      <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
        <input type="password" id="password" placeholder="Password"
          style="padding:0.8rem;border-radius:10px;border:1px solid #d4c9b9;width:100%;box-sizing:border-box; font-family: 'Poppins', sans-serif;">
        <div style="display: flex; align-items: center; gap: 0.4rem; font-size: 0.9rem;">
          <input type="checkbox" id="show-password-toggle" onclick="togglePasswordVisibility()">
          <label for="show-password-toggle" style="font-family: 'Poppins', sans-serif;">Show Password</label>
        </div>
      </div>
      <div style="display:flex;gap:0.8rem;justify-content:center;margin-top:1rem;">
        <button onclick="checkPassword()"
          style="padding:0.65rem 1.2rem;border-radius:10px;border:none;background:#4a3e35;color:white;font-weight:700; font-family: 'Poppins', sans-serif;">Unlock</button>
      </div>
      <p id="error" style="color:crimson;display:none;margin-top:0.8rem; font-family: 'Poppins', sans-serif;">Wrong
        password, try again.</p>
    </div>
  </div>

  <!-- MAIN APP -->
  <div id="main-content" style="display:none;">
    <header>The Corners of My Mind, Wrapped in Words 📜</header>

    <nav>
      <button onclick="showSection('letters')">Letters</button>
      <button onclick="showSection('messages')">Messages</button>
      <button onclick="showSection('openwhen')">Open When</button>
    </nav>

    <!-- LETTERS -->
    <div id="letters-section">
      <div class="controls-row">
        <button onclick="toggleForm('letters')">➕ Add Letter</button>
      </div>
      <form id="add-letters-form" class="form-box" onsubmit="addItem(event, 'letters')">
        <input type="text" id="letters-title" placeholder="Letter title (date or mood)" required />
        <input type=date id="letters-date" required />
        <textarea id="letters-content" rows="5" placeholder="Write your letter here..." required></textarea>
        <div style="text-align:center;"><button type="submit"
            style="padding:0.6rem 1rem;border-radius:10px;border:none;background:#4a3e35;color:white;font-weight:700;">Add
            Letter</button></div>
      </form>
      <div class="grid" id="letters-grid"></div>
      <div id="letters-container"></div>
    </div>

    <!-- MESSAGES -->
    <div id="messages-section" style="display:none;">
      <div class="controls-row">
        <button onclick="toggleForm('messages')">➕ Add Message</button>
      </div>
      <form id="add-messages-form" class="form-box" onsubmit="addItem(event, 'messages')">
        <input type="text" id="messages-title" placeholder="Message title" required />
        <textarea id="messages-content" rows="4" placeholder="Write your message here..." required></textarea>
        <div style="text-align:center;"><button type="submit"
            style="padding:0.6rem 1rem;border-radius:10px;border:none;background:#4a3e35;color:white;font-weight:700;">Add
            Message</button></div>
      </form>
      <div class="grid" id="messages-grid"></div>
      <div id="messages-container"></div>
    </div>

    <!-- OPEN WHEN -->
    <div id="openwhen-section" style="display:none;">
      <div class="controls-row">
        <button onclick="toggleForm('openwhen')">➕ Add 'Open When'</button>
      </div>
      <form id="add-openwhen-form" class="form-box" onsubmit="addItem(event, 'openwhen')">
        <input type="text" id="openwhen-title" placeholder="'Open when...' occasion" required />
        <textarea id="openwhen-content" rows="4" placeholder="Write your message here..." required></textarea>
        <div style="text-align:center;"><button type="submit"
            style="padding:0.6rem 1rem;border-radius:10px;border:none;background:#4a3e35;color:white;font-weight:700;">Add</button>
        </div>
      </form>
      <div class="grid" id="openwhen-grid"></div>
      <div id="openwhen-container"></div>
    </div>
  </div>

  <!-- Custom Delete Confirmation Modal -->
  <div id="delete-modal" class="modal-overlay">
    <div class="modal-content">
      <h3>Are you sure?</h3>
      <p>This will permanently delete the letter. This action cannot be undone.</p>
      <div class="modal-buttons">
        <button class="cancel-btn" onclick="hideDeleteConfirmation()">Cancel</button>
        <button class="confirm-btn" id="confirm-delete-btn">Delete</button>
      </div>
    </div>
  </div>

  <script>
    // --- IMPORTANT: CHANGE THIS PASSWORD ---
    const secretPassword = "MyLittleWeirdo";

    // --- Default Data ---
    const defaultLetters = [
   {
  title: "Friendship Day Letter 🌸",
  date: "2025-09-14",
  content: "Dear Little Weirdo,<br><br>Happy Friendship Day.<br>Honestly, even writing this feels strange — not because I don’t have anything to say, but because there’s so much I’ve never said.<br><br>We met in the most random way — two strangers bonding over One Direction (thank you, internet and Harry Styles).<br>We started dating in May, and those first few weeks felt light — like a breath of fresh air.<br>You were passionate, expressive, and wore your heart on your sleeve. I, on the other hand, took more time to react. And while we had our share of misunderstandings, I always tried to be the one who listened — to understand what was really going on beneath the words. Not because I was always right, but because I genuinely wanted to meet you where you were emotionally.<br><br>I tried to hold space for your anger, your silence, your hurt — even when I didn’t always know how.<br>You got angry quickly. I didn’t. Even when it didn’t feel like my fault, I always tried to calm things down — to understand, to fix what broke.<br>And slowly, I even found creative ways to reach you. I’d say, “Okay, let’s pretend I’m just your friend. Talk to me like I don’t know what’s going on — tell me what hurt you, what upset you, and I’ll take your side.” It sounds silly, but it worked. We laughed through those fights. We made it through.<br><br>But over time, it started to feel one-sided from my perspective it might be a different from yours. Every fight, I was the one apologizing. The one solving it. And that didn’t mean I wasn’t hurting too — I just stopped showing it. It’s like I took on the role of peacekeeper and forgot I had my own breaking points. And then you said something that really stuck with me:<br>“You’re not the same person I fell in love with.”<br>It cut deep — not because it was harsh, but because I had tried so hard to be everything for you.<br>Tried different ways to make it work. Tried to keep the bond from falling apart. But somewhere in the process, I stopped feeling seen.<br><br>December was heavy. We were fighting more than ever. You kept asking if I was going to break up. I could feel it — the distance, the tension, the end creeping in. And one thing about me that you’ve probably seen: When I feel heartbreak coming, I run. I start pulling away, creating space, making things messy — not because I don’t care, but because I care too much. I distance myself when I think I’m going to get heartbroken. Not because I stop loving, but because I’m terrified of being left. So I make it look like I left — like it was my choice. That way, at least the pain feels like something I had control over. And yes, I know that’s unhealthy. But it’s something I’ve done for years. Because the idea of staying… hoping… and still being left — that’s a pain I’ve never learned to survive. You’ve seen this in me. Even this time when I thought you lied — I didn’t ask, I didn’t clarify, I just reacted.<br><br>I jumped to conclusions not because I didn’t trust you… But because, deep down, I thought maybe I didn’t matter enough for the truth. So I left first. But what I didn’t expect — what I wasn’t ready for — was the silence that followed.<br>\"I left with heavy feet,<br>hoping you'd hold the door.<br>But you stood silent —<br>and that silence hurt more.\"<br><br>I know you were hurt too. And maybe, in your own way, that silence was your reaction. But selfishly, I wished you’d stopped me. Shouted, cursed, something. Just to show I mattered as much as you always said I did.<br>But the truth is — through all of this — you’ve been the person I trusted most.<br><br>I’ve had a rough childhood. There were things I never talked about. I always acted like life was great, even when I was drowning. I smiled when I was breaking. I joked when I was hurting. I kept everyone at arm’s length — because that felt safer than being seen.<br>But with you… I didn’t have to pretend.<br>“We met through pixels,<br>not people.<br>But even behind a screen,<br>you felt like someone real.”<br><br>You’re the first person I ever opened up to.<br>The first one I could say, “I’m not okay” to — and not feel judged or pitied.<br>You’ve seen me at my most confused, distant, overthinking worst — and still chose to stay.<br>That’s not just friendship.<br>That’s loyalty.<br>That’s love in its most honest, platonic form.<br><br>Even when we were in a relationship, I used to call you “dumb” — jokingly, of course — but I know it probably didn’t feel good, especially when you’d just shared something serious or emotional. Even after the CAT results, I reminded you that your score was low — when mine wasn’t any better. I don’t know why I did that. Maybe I thought it was playful. But looking back, it was unfair.<br>Because you never did that to me.<br>You never made me feel small — not when I failed, not when I was lost, not even when I deserved it.<br>You never called me dumb or useless, not even once.<br>You always found a way to make me feel better about myself, no matter how bad I was doing.<br>That’s the kind of friend you were to me — and I honestly don’t think I deserved it.<br><br>And also I want to say something I haven’t really acknowledged until now:<br>You were an amazing friend.<br>And I… I wasn’t.<br>You always listened when I came to you with problems. You supported me, no matter how small or silly the issue was.<br>But when you came to me — when you were upset or frustrated — I didn’t offer the same care. Instead of just being there for you, I picked apart the situation. I pointed out your small mistakes — even when I knew deep down you weren’t really wrong.<br>You told me once about a fight with your parents, and I remember interrupting with, “But maybe you could have done this differently…”<br>What I should’ve done was listen. Just listen.<br><br>Even the moments you were excited — like buying that Stanley bottle or talking about Labubu — I wasn’t happy for you. I was dismissive.<br>I called it a waste of money.<br>I criticized things that brought you joy.<br>And I regret that more than you know.<br><br>You were so much better to me than I ever was to you.<br>And sometimes, I wonder why you even stayed.<br>Maybe I didn’t deserve to be your friend.<br>But I want to try to be a better one now.<br>I want to listen without interrupting.<br>I want to be happy with you — not just for you — and genuinely try to understand the things that make you smile, even if they’re new or unfamiliar to me.<br>The way you always listened when I shared my problems, even when I didn’t deserve that space…<br>The way you cheered for my football team — something you don’t even understand — just because it mattered to me…<br>I want to do the same for you now.<br>I hope I become someone you can open up to again — especially about your parents.<br>You’ve said before, “You won’t understand,” and stopped sharing — and I never want you to feel that way with me again.<br><br>So thank you.<br>For being you.<br>For calling me out when I’m wrong.<br>For letting me be dark and messy without flinching.<br>For staying, even when it was hard to.<br><br>I don’t know what the future holds.<br>Maybe one day we’ll meet. Maybe we won’t.<br>But I hope you’ll always be around — yelling, laughing, oversharing, and being unapologetically you.<br><br>Happy Friendship Day,<br>Your Kevin"
},
{
  title: "When I Meet You 💫",
  date: "2025-09-14",
  content: "We met in the most random way — through Instagram, of all places — and bonded over One Direction like two fans who thought no one else could possibly understand.<br>Soon, it wasn’t just about songs; we were watching and laughing about Bridgerton.<br><br>At the time, I wasn’t sure if you’d ever like me back. So, in my own awkward way, I asked you, “I think I have a crush on someone, what should I do?”<br>What I was really doing was testing the waters with you — and honestly, I thought it would end there.<br><br>Then life hit you hard when Delilah passed away. I still remember how devastated you were — and how, even in that moment of pain, you let me in.<br>That’s when our bond became real, deeper than just music or shows, because you trusted me with your grief.<br><br>And yet, classic me, I almost ruined it before it began.<br>I said we should stop talking because “I think I have feelings for you and maybe they’ll go away.” Probably one of the dumbest things I’ve ever said.<br>But to my surprise, you didn’t let me run — you simply said, “I like you too, why don’t we try dating?”<br>That moment has stayed with me, because it showed how you were always braver, always willing to choose us, even when I doubted.<br><br>Being with you never felt like work. I didn’t have to pretend or act cool; I could just be me — the real me.<br>And that’s what I loved the most. It wasn’t about some big romantic moment; it was about the little things.<br>The silly fights we had over nothing, the playful banters that went nowhere but still made us laugh, and the way we gave each other ridiculous names.<br>I still remember calling you my “little weirdo” or “Bob” from Minions.<br>Those weren’t just names — they were proof of how comfortable and happy I felt with you.<br>With you, I never had to earn my place — I just belonged.<br><br>But then came the harder part of our story.<br>Around October 2022, the little fights started piling up. At first, I tried my best to solve everything, even in creative ways.<br>I still remember once I told you, “Let me be your friend for a moment, tell me what happened so I can understand your side.”<br>And it worked — we understood each other better that way.<br><br>But over time, it started to feel one-sided. Whenever something broke, I tried fixing it, but deep down I was hurting too.<br>Some of the things said left scars, and I never really showed how much they affected me.<br><br>I’ll never forget when you told me, “You ain’t the same Mahir.”<br>Those words cut deep, because you were right — I wasn’t the same.<br>I was overwhelmed, confused, and honestly, immature in how I handled everything.<br><br>By December, the fights hadn’t stopped. You kept asking me, “Are you going to break up?” again and again, and in my mind, it felt like maybe you wanted it too.<br>So I thought — instead of waiting to be left, maybe I should mess everything up myself so it hurts less if you did it first.<br><br>At the same time, life outside us was falling apart too.<br>My dad had lost his job, my parents were fighting constantly, and I didn’t know how to carry so much at once.<br>I was young, I was scared, and I didn’t know how to balance my feelings, my family, and us.<br>And in that storm, I lost you.<br><br>After the breakup, there was silence. A whole year where we didn’t speak.<br>I tried to move on, bury myself in other things, but somewhere inside, I kept missing you.<br>Then, one random day, I gave in. I messaged you.<br>Of course, I didn’t have the courage to say, “I miss you, I still want you,” so I pretended — pretended it was just about being friends.<br><br>But what I didn’t expect was how naturally we slipped back into talking.<br>Slowly, we did become great friends. And honestly, that friendship has been one of the most comforting parts of my life.<br><br>You never made me feel small — not when I failed, not when I was lost, not even when I probably deserved it.<br>You never called me dumb or useless, not even once.<br>Somehow, you always knew how to lift me back up when I was down.<br>That’s the kind of friend you were to me — the kind of friend I honestly don’t think I deserved.<br><br>And there’s something I’ve never really admitted until now: you were an amazing friend… and I wasn’t.<br>You always listened when I came to you with problems, no matter how small or silly.<br>You gave me your full attention, even when I didn’t deserve it.<br>But when it was your turn — when you were upset, or when something had hurt you — I didn’t offer the same care.<br>Instead of just being there for you, I tried to dissect the situation, point out little things you “could’ve done differently,” as if that would fix anything.<br>It didn’t.<br>What you needed was someone to simply listen, someone to stand with you in the feeling. And I failed you there.<br><br>Even in the moments you were happy, I wasn’t always who you needed me to be.<br>Like when you bought that Stanley bottle or when you talked about Labubu — you were so excited, but instead of sharing that joy with you, I dismissed it.<br>I called it a waste of money, or brushed it off like it didn’t matter.<br>But it did matter. It mattered to you — and that should’ve been enough for me.<br>I regret those moments more than I can explain.<br><br>You were so much better to me than I ever was to you.<br>And sometimes, I truly wonder why you stayed.<br>Why you didn’t walk away sooner.<br>Maybe I didn’t deserve the patience, the kindness, or the space you gave me.<br>But now, I want to try and earn it.<br><br>I want to be a better friend to you.<br>I want to listen without interrupting.<br>I want to celebrate the things that make you smile, even if they’re things I don’t fully understand at first.<br>I want to be curious about your world — the little things that light you up — instead of dismissing them.<br><br>The way you always listened when I ranted about my football team, even though you barely knew the rules — you still cheered, just because it mattered to me.<br>I want to do the same for you now.<br><br>I know there were times you held back from sharing with me, especially about your parents.<br>You once told me, “You won’t understand,” and that broke me.<br>Because you were right — I had given you no reason to believe I could.<br>I never want you to feel that way with me again.<br><br>So thank you.<br>For being you.<br>For calling me out when I was wrong.<br>For letting me be dark and messy without flinching.<br>For staying, even when it was hard.<br><br>I think what I love the most is that with you, I can just be me.<br>No masks, no acting, no pretending to be tougher or smarter than I am.<br>I can be vulnerable, I can be silly, I can even be weak — and you never use it against me.<br><br>I love our banters, the little back-and-forths where we tease each other and laugh over nothing.<br>I love that I can share things I wouldn’t tell anyone else, because I know you’ll actually listen.<br>And I love how, even in my lowest moments, you never make me feel small.<br>You’re always there for me. You support me, you back me up, and you never belittle me.<br><br>With you, I don’t feel judged. I just feel… understood. And that’s rare.<br><br>Looking back, I know I fell short.<br>I didn’t always listen when you needed me.<br>I dismissed things that brought you joy.<br>I picked apart your pain instead of simply holding it with you.<br>In short — you gave me your best, and I didn’t always give you mine.<br>That’s my biggest regret.<br><br>But here’s what I want you to know: I’ve learned from that.<br>I don’t want to run away when things get hard.<br>I want to stay, to always try and find a way through — together.<br>I want to listen without judgment, to celebrate your little joys, and to support you the way you’ve always supported me.<br><br>I want to build a better career, not just for myself, but so I can build a life we can both be proud of.<br>I want to explore the world with you — to see new places, create new memories, and live a story that’s ours.<br><br>Most of all, I want to be better for you. Because you deserve nothing less.<br><br><em>Alternate:</em><br>Most of all, I want to be better for you. Because you deserve nothing less.<br>And maybe I never said this enough, but being with you has made me feel more human than anything else in my life.<br>Before you, I didn’t feel much — not too happy even when I was out trekking, not too sad even when my dad was in a serious condition with Covid.<br>I wanted to feel, but I couldn’t.<br>With you, I felt everything.<br>You made me the happiest.<br>Your little nakhre never annoyed me — they made me want to solve them.<br>Our banters, our silly talks, even the jealousy, the insecurity, the fear of losing you… all of it, mixed with love, made me realize what it means to be alive.<br><br>Because of you, I feel human.<br><br>I can wait. Take as long as you want.<br>I will try my best every day to become the person who truly deserves you.<br>I will wait, because in the end, it’s only you I want to end up with.<br><br>It hurts that you’re not mine right now.<br>It hurts even more that I was too shy to say “I love you” at the end of our calls before — and now, it hurts that I can’t say it at all."
}


      // {
      //   title: "Shobit Randi",
      //   date: "2025-09-10",
      //   content: "Imagine we're sitting on a couch, drinking coffee, and laughing about random things..."
      // },
    ];

    const defaultMessages = [
      {
        title: "Just a Thought",
        content: "You're on my mind today. That's all. ❤️"
      }
    ];

    const defaultOpenWhen = [
  {
    title: "Open when… you miss me ❤️",
    date: "",
    content: "Akriti,<br><br>If you’re opening this, it probably means you’re missing me a little — and I want you to know, I miss you too. Being far from you isn’t just about kilometers; it’s in the small moments I wish I could share with you. The empty seat beside me when something funny happens, the silence when I wish I could hear your laugh, the pause when I type and wish I could just say it face to face.<br><br>I miss you in ways that are both heavy and comforting. Heavy, because I want you close. Comforting, because even when you’re far, you still matter so much to me.<br><br>Remember this — missing each other means we care. People who don’t matter are easy to forget, but you? You stay. You’re the thought that follows me everywhere: when I eat something good and wish I could save you a bite, when I see something silly and imagine your smile, when I lie in bed and wonder what’s on your mind.<br><br>Distance may test us, but it doesn’t erase what we have. Every time we miss each other, I feel like the bond only grows stronger — thread by thread, moment by moment.<br><br>So, if you’re missing me right now, close your eyes for a second and imagine me beside you. Feel me there, reminding you that no matter what, I’ll always be around for you.<br><br>We’ll get through this distance, Akriti. And when we do, every second apart will have meant something.<br><br>Always,<br>Mahir"
  },
  {
    title: "Open when… you’re sad 🌧️",
    date: "",
    content: "Akriti,<br><br>If you’re opening this, it means something has dimmed your light — and that’s the one thing in the world I can’t stand to see. You know why? Because you’re my little weirdo, my chaos and calm in one, and seeing you sad feels like my heart forgot how to beat.<br><br>First things first: take a deep breath. Right now. I’ll wait.<br><br>Good.<br><br>Now listen — it’s okay to feel sad. It’s okay to let the weight of things sink in. But don’t you dare for a second believe that this sadness defines you. You’re stronger than you think, even when you don’t feel like it. And if strength ever feels too heavy, remember — you never have to carry it alone. I’m here. Even if we’re far apart, I’m right next to you in every way that matters.<br><br>But also… let me make you smile for a second. Do you know how ridiculous you look when you pout? Like a little kid denied chocolate. And your fake “I’m fine” voice? Please, I know you better than that. You can’t trick me. You’ve tried — and failed — too many times.<br><br>So here’s what I want: talk to me. Cry if you have to. Scream into a pillow. Or just sit in silence with me on call. Whatever sadness has taken from you, we’ll take it back together.<br><br>And if the world feels too loud, remember this truth: you are cared for — deeply, completely. Sad days don’t change that.<br><br>So smile for me, my little weirdo. Not because the sadness has gone, but because even in your sadness, you are still the most beautiful part of my world.<br><br>Always here,<br>Mahir"
  },
  {
    title: "Open when… we fight 💔",
    date: "",
    content: "Akriti,<br><br>If you’re reading this, it means we’re in one of those moments I hate — a fight. I know sometimes words come out sharp in anger, and I know sometimes I act like an idiot and make things worse. It’s okay. We’re both stubborn in our own ways, but none of that is bigger than what we mean to each other.<br><br>Sweetheart, I’m not perfect. Half the time I don’t even realise what I said or did wrong until you point it out — and then it hits me, “damn, I messed up again.” But here’s one thing you should always remember: no fight, no rude word, no silence will change how much I care about you.<br><br>I’ll always come back. I’ll always choose us over pride or being right. So if we’re fighting, promise me this: don’t hold it inside. Tell me. Yell at me if you need to, call me a dumbass, or roll your eyes — but talk to me. I’d rather work through it with you than be without you.<br><br>When the storm passes (it always does), I’ll be here — arms open, ready to patch us back together.<br><br>Always,<br>Mahir"
  },
  {
    title: "Open when… you’re feeling insecure 🌸",
    date: "",
    content: "Akriti,<br><br>If you’re opening this, it means those thoughts are creeping in again — the ones that make you doubt yourself. But before they go any further, stop and hear me out.<br><br>You are breathtaking. Not just in the way you look — though, let’s be honest, you leave me speechless every time — but in the way you are. Your smile lights up everything around you, but your laugh? That’s my favourite sound. And your annoyed face, your nakhras — I swear, I could watch them forever.<br><br>You call yourself dumb or act immature sometimes, but I know better. I know what you’ve been through. I know the weight of a rough childhood and the scars you don’t always talk about. What amazes me is that after everything, you still keep the child inside you alive. That spark — that playful, resilient part — is rare and beautiful.<br><br>When insecurity whispers lies, remember this: you are more than enough. You are strength wrapped in softness, and someone who matters deeply. I see you — all of you — and I wouldn’t change a single thing.<br><br>Keep this in mind whenever doubts creep in: you are unforgettable, and you matter more than any worry the world tries to sell you.<br><br>Always,<br>Mahir"
  },
  {
    title: "Open when… you’re bored 🎲",
    date: "",
    content: "Akriti,<br><br>If you’re opening this, it means life feels slow and you’re probably staring at the ceiling wondering what to do. Lucky for you, you’ve got me — your personal (very annoying) entertainment service.<br><br>Here are a few things to try when boredom hits:<br>1. Send me the most random thought in your head — no matter how stupid or weird. I’ll reply with something even weirder.<br>2. Make funny faces in the mirror until you laugh. You will — I promise.<br>3. Write down five “reasons I tolerate Mahir” — bonus points if one says “because he’s my dumbass.”<br>4. Imagine a date we could go on someday: pick the place, the food, the vibe. Tell me later — it might actually happen.<br><br>And if nothing works, text me. I’m never too far to pull you out of boredom with nonsense and bad jokes.<br><br>Always your dumbass,<br>Mahir"
  },
  // {
  //   title: "Open when… you can’t sleep 🌙",
  //   date: "",
  //   content: "Akriti,<br><br>If you’re holding this, it means the night feels endless and sleep won’t come. Maybe your thoughts are loud, maybe you’re restless — either way, imagine I’m right there beside you, keeping you company.<br><br>Close your eyes. Breathe in slowly, hold it, let it out. Do it again. Picture this: you’re lying down, everything is quiet, and I’m telling nonsense stories until you drift off.<br><br>Try these: count backwards from 100 and for each number think of something silly we’d do together; picture the happiest, most carefree version of you and let that image soften your mind; or imagine me saying, “sleep, my little weirdo, tomorrow needs you rested.”<br><br>Even if the night feels lonely, you’re not alone. Somewhere out here, I might be awake thinking the same.<br><br>Goodnight,<br>Mahir"
  // },
  // {
  //   title: "Open when… you’re sick 🤒",
  //   date: "",
  //   content: "Akriti,<br><br>If you’re reading this, it means you’re not feeling well — and I hate that I can’t be there to take care of you. If I could, you’d be bundled in blankets, fed properly, and not allowed to pretend you’re fine when you’re clearly not.<br><br>You get a bit dramatic when you’re sick — and honestly, it’s kind of adorable. But right now, do the simple things: drink water, rest, and stop worrying about everything else. Sleep helps more than you think.<br><br>I might not be there to make you soup, but I’d do the small things if I could. Until then, rest up and get better soon — the world is dull when you’re not at your best.<br><br>Your dumbass nurse,<br>Mahir"
  // },
  // {
  //   title: "Open when… you need to feel my care 💌",
  //   date: "",
  //   content: "Akriti,<br><br>If you’re reading this, you need a reminder of what you mean to someone. So here it is: you are one of the most important people in my life.<br><br>I admire you more than I say out loud. Your smile, your laugh, your nakhras — they all stay with me like bookmarks. You act immature sometimes, but I know the strength you carry and the battles you’ve faced. What amazes me is that you still keep the child inside you alive — that spark is rare.<br><br>You make ordinary moments feel lighter and brighter. Even when we’re apart, or when silence sneaks in, nothing changes how much you matter to me. When doubts come, come back to this letter and remember: you are unforgettable and you matter deeply.<br><br>Always here,<br>Mahir"
  // }
]
;

    // --- Initialize Data if Empty ---
    function initializeData() {
      if (!localStorage.getItem("letters")) {
        localStorage.setItem("letters", JSON.stringify(defaultLetters));
      }
      if (!localStorage.getItem("messages")) {
        localStorage.setItem("messages", JSON.stringify(defaultMessages));
      }
      if (!localStorage.getItem("openwhen")) {
        localStorage.setItem("openwhen", JSON.stringify(defaultOpenWhen));
      }
    }

    initializeData();

    // --- Core Functions ---
    function checkPassword() {
      const inputPassword = document.getElementById("password").value;
      const errorElement = document.getElementById("error");
      const passwordScreen = document.getElementById("password-screen");
      const mainContent = document.getElementById("main-content");

      if (inputPassword === secretPassword) {
        passwordScreen.style.display = "none";
        mainContent.style.display = "block";
        document.body.classList.add('unlocked-body'); // Add the new class
        showSection('letters'); // Default section
      } else {
        errorElement.style.display = "block";
      }
    }

    // New function to toggle password visibility
    function togglePasswordVisibility() {
      const passwordInput = document.getElementById("password");
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    }

    function getItems(section) {
      const items = localStorage.getItem(section);
      return items ? JSON.parse(items) : [];
    }

    function saveItems(section, items) {
      localStorage.setItem(section, JSON.stringify(items));
    }

    function showSection(sectionId) {
      const sections = ['letters', 'messages', 'openwhen'];
      sections.forEach(id => {
        document.getElementById(`${id}-section`).style.display = 'none';
        document.getElementById(`${id}-container`).innerHTML = ''; // Clear letter view
      });
      document.getElementById(`${sectionId}-section`).style.display = 'block';
      renderEnvelopes(sectionId);
    }

    function toggleForm(section) {
      const form = document.getElementById(`add-${section}-form`);
      form.style.display = form.style.display === 'block' ? 'none' : 'block';
    }

    function addItem(event, section) {
      event.preventDefault();
      const titleInput = document.getElementById(`${section}-title`);
      const dateInput = document.getElementById(`${section}-date`);
      const contentInput = document.getElementById(`${section}-content`);

      const newItem = {
        title: titleInput.value,
        date: dateInput.value, // Save the new date
        content: contentInput.value
      };


      const items = getItems(section);
      items.push(newItem);
      saveItems(section, items);

      titleInput.value = "";
      dateInput.value = ""; // Clear the date input
      contentInput.value = "";
      toggleForm(section);
      renderEnvelopes(section);
    }

    function showLetter(section, index) {
      const items = getItems(section);
      const item = items[index];
      const letterContainer = document.getElementById(`${section}-container`);

      // Hide the grid and controls before displaying the letter
      document.getElementById(`${section}-grid`).style.display = 'none';
      document.querySelector(`#${section}-section .controls-row`).style.display = 'none';

      letterContainer.innerHTML = `
      <div class="letter">
        <button class="back-btn" onclick="showSection('${section}')">Back</button>
        <button class="delete-btn" onclick="showDeleteConfirmation('${section}', ${index})">Delete</button>
        <h2>${item.title}</h2>
        <span class="date-text">${item.date}</span>
        <p>${item.content.replace(/\n/g, "<br>")}</p>
      </div>
    `;
      letterContainer.style.display = 'block';
    }

    // New function to display the custom confirmation modal
    function showDeleteConfirmation(section, index) {
      const modal = document.getElementById('delete-modal');
      modal.classList.add('visible');

      // Set up the click handler for the confirm button
      const confirmBtn = document.getElementById('confirm-delete-btn');
      confirmBtn.onclick = () => {
        confirmDelete(section, index);
        hideDeleteConfirmation();
      };
    }

    // New function to hide the custom confirmation modal
    function hideDeleteConfirmation() {
      const modal = document.getElementById('delete-modal');
      modal.classList.remove('visible');
    }

    // New function that actually performs the deletion
    function confirmDelete(section, index) {
      const items = getItems(section);
      items.splice(index, 1);
      saveItems(section, items);
      document.getElementById(`${section}-container`).innerHTML = ""; // Hide the letter
      showSection(section);
    }


    function renderEnvelopes(section) {
      const items = getItems(section);
      const grid = document.getElementById(`${section}-grid`);
      grid.innerHTML = "";

      document.getElementById(`${section}-grid`).style.display = 'grid';
      document.querySelector(`#${section}-section .controls-row`).style.display = 'flex';

      items.forEach((item, index) => {
        const envelope = document.createElement("div");
        envelope.className = "envelope";
        envelope.innerHTML = `
        <span class="title-text">${item.title}</span>
        ${item.date ? `<span class="date-text">${item.date}</span>` : ''}
      `;
        envelope.onclick = () => {
          envelope.classList.add('flip');
          setTimeout(() => showLetter(section, index), 500); // Wait for the animation
        };
        grid.appendChild(envelope);
      });
    }

    const dataVersion = "v2";

      localStorage.setItem("letters", JSON.stringify(defaultLetters));
      localStorage.setItem("messages", JSON.stringify(defaultMessages));
      localStorage.setItem("openwhen", JSON.stringify(defaultOpenWhen));
  </script>
</body>

</html>